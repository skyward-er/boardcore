# Skyward Build System Configuration File
#
# Copyright (c) 2015-2016 Skyward Experimental Rocketry
# Authors: Alain Carlucci
# 
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
# 
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
# 
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
# AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
# LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
# OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
# THE SOFTWARE.

# Syntax of this file:
# Available types: srcfiles/board
# srcfiles:
#     Files: a '\n'-separated list of files
#
# board:
#     BoardId: see the list below
#     BinName: name of the final binary (without extension!)
#     Include: a space-separated list of files, %something will be substituted
#              with the corresponding 'srcfiles'
#     Main:    name of the main file (e.g. 'foo' -> src/entrypoints/foo.cpp)

# Here's a list of available BoardId:
# efm32gg332f1024_wandstem
# lpc2138_miosix_board
# stm32f100cb_tempsensor
# stm32f100rb_stm32vldiscovery
# stm32f103cb_als_mainboard_rev2
# stm32f103ve_mp3v2
# stm32f103ve_strive_mini
# stm32f103ze_redbull_v2
# stm32f103ze_stm3210e-eval
# stm32f205rg_sony-newman
# stm32f207ig_stm3220g-eval
# stm32f207ze_als_camboard
# stm32f207zg_ethboard_v2
# stm32f407vg_bitsboard
# stm32f407vg_stm32f4discovery
# stm32f411re_nucleo
# stm32f429zi_oledboard2
# stm32f429zi_skyward_anakin
# stm32f429zi_stm32f4discovery
# stm32l151_als_mainboard


# List of Source files (libraries, etc)
[canbus]
Type:       srcfiles
Files:      src/shared/canbus/CanManager.cpp 
            src/shared/canbus/CanBus.cpp 
            src/shared/canbus/CanSocket.cpp 
            src/shared/canbus/CanInterrupt.cpp 

# Common files (like event scheduler)
[shared]
Type:       srcfiles
Files:      src/shared/events/Scheduler.cpp
            src/shared/DMA/DMA.cpp
            src/shared/Leds.cpp

[i2c]
Type:       srcfiles
Files:      src/shared/i2c/stm32f2_f4_i2c.cpp 

[ethernet]
Type:       srcfiles
Files:      src/shared/ethernet/UdpManager.cpp
            src/shared/ethernet/W5200/w5200.cpp
            src/shared/ethernet/W5200/spi_impl.cpp
            src/shared/ethernet/PacketBuffer.cpp
            src/shared/ethernet/WatchdogTimer.cpp

[math]
Type:       srcfiles
Files:      src/shared/math/Stats.cpp
            src/shared/math/Matrix.cpp

# Boards 
[discovery-canbus-test]
Type:       board
BoardId:    stm32f429zi_stm32f4discovery
BinName:    discovery-canbus-test
Include:    %canbus %shared
Defines:    
Main:       canbus-test

[anakin-test-suite]
Type:       board
BoardId:    stm32f429zi_skyward_anakin
BinName:    anakin-test-suite
Include:    %canbus %shared
Defines:   
Main:       anakin-test-suite

[anakin-demo-board]
Type:       board
BoardId:    stm32f429zi_skyward_anakin
BinName:    anakin-demo-board
Include:    %shared %i2c %ethernet %math
Defines:   
Main:       anakin-demo-board

[anakin-test-ethernet]
Type:       board
BoardId:    stm32f429zi_skyward_anakin
BinName:    anakin-test-ethernet
Include:    %shared %ethernet
Defines:   
Main:       test_ethernet

[canbus-test-rom1]
Type:       board
BoardId:    stm32f429zi_skyward_anakin
BinName:    anakin-canbus-board1
Include:    %canbus %shared
Defines:    -DBOARDNAME=\"BOARD01\"
Main:       anakin-test-canbus

[canbus-test-rom2]
Type:       board
BoardId:    stm32f429zi_skyward_anakin
BinName:    anakin-canbus-board2
Include:    %canbus %shared
Defines:    -DBOARDNAME=\"BOARD02\"
Main:       anakin-test-canbus

[test-i2c]
Type:       board
BoardId:    stm32f429zi_skyward_anakin
BinName:    test-i2c
Include:    %i2c %shared
Defines:    
Main:       test_i2c

[scheduler]
Type:       board
BoardId:    stm32f429zi_skyward_anakin
BinName:    scheduler
Include:    %shared %math
Defines:    
Main:       test-scheduler

[anakin-test-dma]
Type:       board
BoardId:    stm32f429zi_skyward_anakin
BinName:    anakin-test-dma
Include:    %shared %i2c %math
Defines:   
Main:       anakin-test-dma
